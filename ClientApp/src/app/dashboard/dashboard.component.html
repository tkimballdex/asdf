<div id="list-view" class="container-fluid" *ngIf="customers">
    <div class="row">
        <div class="col-md-3">
            <ejs-dropdownlist [dataSource]="customers" [fields]="{ text: 'name', value: 'id' }" [(value)]="customerId" placeholder="Customer" floatLabelType="Always" (change)="customerChange()"></ejs-dropdownlist>
        </div>
        <div class="col-md-2">
            <ejs-dropdownlist [dataSource]="app.analytes" [fields]="{ text: 'name', value: 'id' }" [(value)]="analyteId" placeholder="Analyte" floatLabelType="Always" (change)="analyteChange()"></ejs-dropdownlist>
        </div>
        <div class="col-md-2">
            <ejs-datepicker [(value)]="startDate" placeholder="Start Date" floatLabelType="Always" (change)="setGraphData()"></ejs-datepicker>
        </div>
        <div class="col-md-2">
            <ejs-datepicker [(value)]="endDate" placeholder="End Date" floatLabelType="Always" (change)="setGraphData()"></ejs-datepicker>
        </div> 
    </div>

    <div class="row d-flex pad-t20">
        <div class="col-md-12 d-flex">
            <ejs-tab id="edit-tab" class="e-fill" (selected)="setGraphData()" #tab>
                <e-tabitems>
                    <e-tabitem>
                        <ng-template #headerText>
                            <div>Variants by Location</div>
                        </ng-template>
                        <ng-template #content>
                            <div class="row">
                                <div class="col-md-3">
                                    <ejs-dropdownlist [dataSource]="sites" [fields]="{ text: 'name', value: 'id' }" [(value)]="siteId" placeholder="Site" floatLabelType="Always" (change)="siteChange()"></ejs-dropdownlist>
                                </div>

                                <div class="col-md-3" *ngIf="locations">
                                    <ejs-dropdownlist [dataSource]="locations" [fields]="{ text: 'name', value: 'id' }" [(value)]="locationId" placeholder="Location" floatLabelType="Always" (change)="setGraphDataByLocation()"></ejs-dropdownlist>
                                </div>
                            </div>
                            <div class="row pad-t20">
                                <div class="col-md-12">
                                    <ejs-dashboardlayout [allowDragging]='allowDragging' [columns]="2" #editLayout [cellSpacing]='cellSpacing' [cellAspectRatio]='cellAspectRatio'>
                                        <e-panels>
                                            <e-panel [sizeX]="2" [sizeY]="2" [row]="1" [col]="0">
                                                <ng-template #header>
                                                    <div>Test Variants - Daily Results</div>
                                                </ng-template>
                                                <ng-template #content>
                                                    <div>
                                                        <ejs-chart id="chartByLocation" height="400px" [primaryXAxis]='primaryXAxis' #chartByLocation>
                                                        </ejs-chart>
                                                    </div>
                                                </ng-template>
                                            </e-panel>
                                        </e-panels>
                                    </ejs-dashboardlayout>
                                </div>
                            </div>
                        </ng-template>
                    </e-tabitem>

                    <e-tabitem>
                        <ng-template #headerText>
                            <div>Locations by Variant</div>
                        </ng-template>
                        <ng-template #content>
                            <div id="list-view" class="container-fluid pad-t20">
                                <div class="row">
                                    <div class="col-md-3">
                                        <ejs-dropdownlist [dataSource]="variants" [fields]="{ text: 'name', value: 'id' }" [(value)]="variantId" placeholder="Variant" floatLabelType="Always" (change)="setGraphData()"></ejs-dropdownlist>
                                    </div>
                                </div>

                                <div class="row pad-t20">
                                    <div class="col-md-12">
                                        <ejs-dashboardlayout [allowDragging]='allowDragging' [columns]="2" #editLayout [cellSpacing]='cellSpacing' [cellAspectRatio]='cellAspectRatio'>
                                            <e-panels>
                                                <e-panel [sizeX]="2" [sizeY]="2" [row]="1" [col]="0">
                                                    <ng-template #header>
                                                        <div>Locations - Daily Results</div>
                                                    </ng-template>
                                                    <ng-template #content>
                                                        <div>
                                                            <ejs-chart id="chartByVariant" height="400px" [primaryXAxis]='primaryXAxis' #chartByVariant>
                                                            </ejs-chart>
                                                        </div>
                                                    </ng-template>
                                                </e-panel>
                                            </e-panels>
                                        </ejs-dashboardlayout>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </e-tabitem>

                    <e-tabitem>
                        <ng-template #headerText>
                            <div>Positive Cases</div>
                        </ng-template>
                        <ng-template #content>
                            <div id="list-view" class="container-fluid pad-t20">
                                <div class="row">
                                    <div class="col-md-3">
                                        <ejs-listbox [dataSource]="sites" [fields]="{ text: 'name', value: 'id' }" [(value)]="selectedSites" placeholder="Site" floatLabelType="Always" (change)="setGraphData()" [selectionSettings]="{ showSelectAll: true, showCheckbox: true }"></ejs-listbox>
                                    </div>
                                </div>
                                <div class="row pad-t20">
                                    <div class="col-md-12">
                                        <ejs-dashboardlayout [allowDragging]='allowDragging' [columns]="2" #editLayout [cellSpacing]='cellSpacing' [cellAspectRatio]='cellAspectRatio'>
                                            <e-panels>
                                                <e-panel [sizeX]="2" [sizeY]="2" [row]="1" [col]="0">
                                                    <ng-template #header>
                                                        <div>Positive Cases - Daily Counts</div>
                                                    </ng-template>
                                                    <ng-template #content>
                                                        <div>
                                                            <ejs-chart id="chartPositiveCases" height="400px" [primaryXAxis]='primaryXAxis' #chartPositiveCases>
                                                            </ejs-chart>
                                                        </div>
                                                    </ng-template>
                                                </e-panel>
                                            </e-panels>
                                        </ejs-dashboardlayout>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </e-tabitem>

                    <e-tabitem>
                        <ng-template #headerText>
                            <div>Positive vs Negative Locations</div>
                        </ng-template>
                        <ng-template #content>
                            <div id="list-view" class="container-fluid pad-t20">
                                <div class="row">
                                    <div class="col-md-3">
                                        <ejs-listbox [dataSource]="sites" [fields]="{ text: 'name', value: 'id' }" [(value)]="selectedSitesPositiveNegative" placeholder="Site" floatLabelType="Always" (change)="setGraphData()" [selectionSettings]="{ showSelectAll: true, showCheckbox: true }"></ejs-listbox>
                                    </div>
                                </div>
                                <div class="row pad-t20">
                                    <div class="col-md-12">
                                        <ejs-dashboardlayout [allowDragging]='allowDragging' [columns]="2" #editLayout [cellSpacing]='cellSpacing' [cellAspectRatio]='cellAspectRatio'>
                                            <e-panels>
                                                <e-panel [sizeX]="2" [sizeY]="2" [row]="1" [col]="0">
                                                    <ng-template #header>
                                                        <div>Positive vs Negative Locations - Daily Counts</div>
                                                    </ng-template>
                                                    <ng-template #content>
                                                        <div>
                                                            <ejs-chart id="chartPositiveNegativeCases" height="400px" [primaryXAxis]='primaryXAxis' #chartPositiveNegativeCases>
                                                            </ejs-chart>
                                                        </div>
                                                    </ng-template>
                                                </e-panel>
                                            </e-panels>
                                        </ejs-dashboardlayout>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </e-tabitem>

                    <e-tabitem>
                        <ng-template #headerText>
                            <div>Positive Cases by Site</div>
                        </ng-template>
                        <ng-template #content>
                            <div id="list-view" class="container-fluid pad-t20">
                                <div class="row">
                                    <div class="col-md-3">
                                        <ejs-listbox [dataSource]="sites" [fields]="{ text: 'name', value: 'id' }" [(value)]="selectedSitesPositive" placeholder="Site" floatLabelType="Always" (change)="setGraphData()" [selectionSettings]="{ showSelectAll: true, showCheckbox: true }"></ejs-listbox>
                                    </div>
                                </div>
                                <div class="row pad-t20">
                                    <div class="col-md-12">
                                        <ejs-dashboardlayout [allowDragging]='allowDragging' [columns]="2" #editLayout [cellSpacing]='cellSpacing' [cellAspectRatio]='cellAspectRatio'>
                                            <e-panels>
                                                <e-panel [sizeX]="2" [sizeY]="2" [row]="1" [col]="0">
                                                    <ng-template #header>
                                                        <div>Positive Cases by Site</div>
                                                    </ng-template>
                                                    <ng-template #content>
                                                        <div>
                                                            <ejs-chart id="chartPositiveSites" height="400px" [primaryXAxis]='primaryXAxis' #chartPositiveSites>
                                                            </ejs-chart>
                                                        </div>
                                                    </ng-template>
                                                </e-panel>
                                            </e-panels>
                                        </ejs-dashboardlayout>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </e-tabitem>
                </e-tabitems>
            </ejs-tab>
        </div>
    </div>

</div>

<div class="control-section">
    
</div>


<div class="control-section">
    
</div>
